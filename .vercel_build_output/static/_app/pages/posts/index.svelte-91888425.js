import{S as a,i as e,s,l as t,j as n,m as r,f as l,o,x as p,u as g,d as c,v as f,e as u,k as i,c as h,a as $,n as m,b as d,F as v,L as _,w as x,r as b,M as w}from"../../chunks/vendor-3586de2d.js";import{P as j}from"../../chunks/post-3a300af9.js";import{P as k}from"../../chunks/pagination-3bcb8128.js";import"../../chunks/avatar-3a681ea5.js";function y(a,e,s){const t=a.slice();return t[4]=e[s],t}function E(a,e){let s,u,i;return u=new j({props:{blog:e[4]}}),{key:a,first:null,c(){s=t(),n(u.$$.fragment),this.h()},l(a){s=t(),r(u.$$.fragment,a),this.h()},h(){this.first=s},m(a,e){l(a,s,e),o(u,a,e),i=!0},p(a,s){e=a;const t={};4&s&&(t.blog=e[4]),u.$set(t)},i(a){i||(p(u.$$.fragment,a),i=!0)},o(a){g(u.$$.fragment,a),i=!1},d(a){a&&c(s),f(u,a)}}}function D(a){let e,s,t,j,D,I,V=[],M=new Map,P=a[2];const q=a=>a[4].post.url;for(let n=0;n<P.length;n+=1){let e=y(a,P,n),s=q(e);M.set(s,V[n]=E(s,e))}return D=new k({props:{prev_page:a[1],next_page:a[0]}}),{c(){e=u("div"),s=u("div");for(let a=0;a<V.length;a+=1)V[a].c();t=i(),j=u("div"),n(D.$$.fragment),this.h()},l(a){e=h(a,"DIV",{class:!0});var n=$(e);s=h(n,"DIV",{class:!0});var l=$(s);for(let e=0;e<V.length;e+=1)V[e].l(l);l.forEach(c),t=m(n),j=h(n,"DIV",{class:!0});var o=$(j);r(D.$$.fragment,o),o.forEach(c),n.forEach(c),this.h()},h(){d(s,"class","w-full max-w-screen-md mx-auto space-y-8 sm:space-y-16"),d(j,"class","mt-10"),d(e,"class","mb-12")},m(a,n){l(a,e,n),v(e,s);for(let e=0;e<V.length;e+=1)V[e].m(s,null);v(e,t),v(e,j),o(D,j,null),I=!0},p(a,[e]){4&e&&(P=a[2],b(),V=_(V,e,q,1,a,P,M,s,w,E,null,y),x());const t={};2&e&&(t.prev_page=a[1]),1&e&&(t.next_page=a[0]),D.$set(t)},i(a){if(!I){for(let a=0;a<P.length;a+=1)p(V[a]);p(D.$$.fragment,a),I=!0}},o(a){for(let e=0;e<V.length;e+=1)g(V[e]);g(D.$$.fragment,a),I=!1},d(a){a&&c(e);for(let e=0;e<V.length;e+=1)V[e].d();f(D)}}}async function I({page:a,fetch:e}){var s;const t=null!=(s=a.query.get("page"))?s:1,n=await e(`/posts.json?page=${t}`),{data:r,next_page:l,prev_page:o}=await n.json();return n.ok?{props:{blogs:r,next_page:l,prev_page:o}}:{status:n.status,error:new Error(`Could not load ${url}`)}}function V(a,e,s){let t,{blogs:n=[]}=e,{next_page:r=null}=e,{prev_page:l=null}=e;return a.$$set=a=>{"blogs"in a&&s(3,n=a.blogs),"next_page"in a&&s(0,r=a.next_page),"prev_page"in a&&s(1,l=a.prev_page)},a.$$.update=()=>{8&a.$$.dirty&&s(2,t=n)},[r,l,t,n]}class M extends a{constructor(a){super(),e(this,a,V,D,s,{blogs:3,next_page:0,prev_page:1})}}export{M as default,I as load};
